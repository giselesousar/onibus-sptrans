{"ast":null,"code":"var _jsxFileName = \"/home/gisele/Documentos/repositorios-github/desafio-aiko-frontend/web/src/pages/Home/components/Mapa/components/PrevisaoChegada/components/Map/index.js\";\nimport React, { useRef, useEffect } from 'react';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\nimport { pointerBusIcon, busIcon } from './components/Icons';\nexport default function MapComponent(props) {\n  const {\n    resultados\n  } = props;\n  const mapRef = useRef();\n  const didMountRef = useRef(false);\n  useEffect(() => {\n    if (didMountRef.current) {\n      if (mapRef.current) {\n        mapRef.current.leafletElement.invalidateSize(false);\n      }\n    } else didMountRef.current = true;\n  });\n  return /*#__PURE__*/React.createElement(Map, {\n    center: [-23.692865, -46.77835],\n    zoom: 12,\n    ref: mapRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TileLayer, {\n    attribution: \"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n    url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }), resultados && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Marker, {\n    position: [resultados.p.py, resultados.p.px],\n    icon: pointerBusIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Popup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }\n  }, resultados.p.np)), resultados.p.l && resultados.p.l.map(linha => {\n    return linha.vs.map(veiculo => {\n      return /*#__PURE__*/React.createElement(Marker, {\n        position: [veiculo.py, veiculo.px],\n        icon: busIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Popup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 33\n        }\n      }, linha.c, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 46\n        }\n      }), \"Sentido: \", linha.sl == \"1\" ? \"Terminal Principal para Terminal Secundário\" : \"Terminal Secundário para Terminal Principal\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 38\n        }\n      }), \"Origem: \", linha.lt1, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 56\n        }\n      }), \"Destino: \", linha.lt0, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 57\n        }\n      }), \"Previs\\xE3o de chegada: \", veiculo.t));\n    });\n  })));\n}","map":{"version":3,"sources":["/home/gisele/Documentos/repositorios-github/desafio-aiko-frontend/web/src/pages/Home/components/Mapa/components/PrevisaoChegada/components/Map/index.js"],"names":["React","useRef","useEffect","Map","TileLayer","Marker","Popup","pointerBusIcon","busIcon","MapComponent","props","resultados","mapRef","didMountRef","current","leafletElement","invalidateSize","p","py","px","np","l","map","linha","vs","veiculo","c","sl","lt1","lt0","t"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,MAAf,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,MAAzB,EAAiCC,KAAjC,QAA+C,eAA/C;AACA,SAAQC,cAAR,EAAwBC,OAAxB,QAAsC,oBAAtC;AAEA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAiBD,KAAvB;AAEA,QAAME,MAAM,GAAGX,MAAM,EAArB;AACA,QAAMY,WAAW,GAAGZ,MAAM,CAAC,KAAD,CAA1B;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIW,WAAW,CAACC,OAAhB,EAAyB;AACzB,UAAIF,MAAM,CAACE,OAAX,EAAoB;AAChBF,QAAAA,MAAM,CAACE,OAAP,CAAeC,cAAf,CAA8BC,cAA9B,CAA6C,KAA7C;AACH;AACA,KAJD,MAKKH,WAAW,CAACC,OAAZ,GAAsB,IAAtB;AACR,GAPQ,CAAT;AASA,sBACI,oBAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAC,CAAC,SAAF,EAAa,CAAC,QAAd,CAAb;AAAsC,IAAA,IAAI,EAAE,EAA5C;AAAgD,IAAA,GAAG,EAAEF,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AACI,IAAA,WAAW,EAAC,2EADhB;AAEI,IAAA,GAAG,EAAC,oDAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAKKD,UAAU,iBACX,uDACA,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAE,CAACA,UAAU,CAACM,CAAX,CAAaC,EAAd,EAAkBP,UAAU,CAACM,CAAX,CAAaE,EAA/B,CAAlB;AAAsD,IAAA,IAAI,EAAEZ,cAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKI,UAAU,CAACM,CAAX,CAAaG,EADlB,CADJ,CADA,EAMCT,UAAU,CAACM,CAAX,CAAaI,CAAb,IACDV,UAAU,CAACM,CAAX,CAAaI,CAAb,CAAeC,GAAf,CAAmBC,KAAK,IAAI;AACxB,WACIA,KAAK,CAACC,EAAN,CAASF,GAAT,CAAaG,OAAO,IAAI;AACpB,0BACI,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,CAACA,OAAO,CAACP,EAAT,EAAaO,OAAO,CAACN,EAArB,CAAlB;AAA4C,QAAA,IAAI,EAAEX,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKe,KAAK,CAACG,CADX,eACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADb,eAEcH,KAAK,CAACI,EAAN,IAAY,GAAZ,GACN,6CADM,GAEN,6CAJR,eAKK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALL,cAMaJ,KAAK,CAACK,GANnB,eAMuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANvB,eAOcL,KAAK,CAACM,GAPpB,eAOwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPxB,8BAQ0BJ,OAAO,CAACK,CARlC,CADJ,CADJ;AAcH,KAfD,CADJ;AAoBH,GArBD,CAPA,CANJ,CADJ;AAyCH","sourcesContent":["import React, {useRef, useEffect} from 'react';\nimport { Map, TileLayer, Marker, Popup  } from 'react-leaflet';\nimport {pointerBusIcon, busIcon} from './components/Icons';\n\nexport default function MapComponent(props) {\n    const { resultados } = props;\n\n    const mapRef = useRef();\n    const didMountRef = useRef(false) \n    useEffect(() => {\n        if (didMountRef.current) { \n        if (mapRef.current) {\n            mapRef.current.leafletElement.invalidateSize(false);\n        }\n        } \n        else didMountRef.current = true\n    })\n\n    return (\n        <Map center={[-23.692865, -46.77835]} zoom={12} ref={mapRef} >\n            <TileLayer\n                attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            {resultados &&\n            <>\n            <Marker position={[resultados.p.py, resultados.p.px]} icon={pointerBusIcon}>\n                <Popup>\n                    {resultados.p.np}\n                </Popup>\n            </Marker>\n            {resultados.p.l && \n            resultados.p.l.map(linha => {\n                return(\n                    linha.vs.map(veiculo => {\n                        return (\n                            <Marker position={[veiculo.py, veiculo.px]} icon={busIcon}>\n                                <Popup>\n                                    {linha.c}<br/>\n                                    Sentido: {linha.sl == \"1\" ? \n                                        \"Terminal Principal para Terminal Secundário\":\n                                        \"Terminal Secundário para Terminal Principal\"\n                                    }<br/>\n                                    Origem: {linha.lt1}<br/>\n                                    Destino: {linha.lt0}<br/>\n                                    Previsão de chegada: {veiculo.t}\n                                </Popup>\n                            </Marker>\n                        )\n                    })\n\n                    \n                )\n            })\n        }\n            </>\n            }\n        </Map>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}